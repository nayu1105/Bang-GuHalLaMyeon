<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.mycom.myapp.bookmark.dao.BookmarkDao">

<!-- userSeq에 따른 Bookmark List -->
	<select id="bookmarkList" parameterType="int" resultType="com.mycom.myapp.bookmark.dto.BookmarkDto">
		SELECT hi.*, dc.sidoName, dc.gugunName 
		  FROM bookmark b, houseinfo hi, dongCode dc
		 WHERE b.user_seq= #{userSeq} and b.house_no = hi.aptCode and hi.dongCode = dc.dongCode;
	</select>

<!-- Bookmark Delete -->
	<delete id="bookmarkDelete" parameterType="com.mycom.myapp.bookmark.dto.BookmarkDto">
		DELETE from bookmark
		where user_seq = #{userSeq} and house_no = #{houseNo}
	</delete>
	
<!-- Bookmark Insert -->
	<insert id="bookmarkInsert"  parameterType="com.mycom.myapp.bookmark.dto.BookmarkDto">
		insert into bookmark (HOUSE_NO, USER_SEQ)
		values (#{houseNo}, #{userSeq})
	</insert>
	
<!-- Bokkmark Exist -->
	<select id="bookmarkExist" parameterType="com.mycom.myapp.bookmark.dto.BookmarkDto" resultType="int">
		select count(*)
		  from bookmark
		 where HOUSE_NO = #{houseNo} and USER_SEQ = #{userSeq}
	</select>

</mapper>
